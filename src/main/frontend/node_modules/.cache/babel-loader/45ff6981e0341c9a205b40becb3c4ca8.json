{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * @module ol/format/OWS\n */\n\n\nimport { readHref } from './XLink.js';\nimport XML from './XML.js';\nimport { readString } from './xsd.js';\nimport { makeObjectPropertyPusher, makeObjectPropertySetter, makeStructureNS, pushParseAndPop } from '../xml.js';\n/**\n * @const\n * @type {Array<null|string>}\n */\n\nvar NAMESPACE_URIS = [null, 'http://www.opengis.net/ows/1.1'];\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'ServiceIdentification': makeObjectPropertySetter(readServiceIdentification),\n  'ServiceProvider': makeObjectPropertySetter(readServiceProvider),\n  'OperationsMetadata': makeObjectPropertySetter(readOperationsMetadata)\n});\n\nvar OWS =\n/** @class */\nfunction (_super) {\n  __extends(OWS, _super);\n\n  function OWS() {\n    return _super.call(this) || this;\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  OWS.prototype.readFromDocument = function (doc) {\n    for (var n = doc.firstChild; n; n = n.nextSibling) {\n      if (n.nodeType == Node.ELEMENT_NODE) {\n        return this.readFromNode(n);\n      }\n    }\n\n    return null;\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  OWS.prototype.readFromNode = function (node) {\n    var owsObject = pushParseAndPop({}, PARSERS, node, []);\n    return owsObject ? owsObject : null;\n  };\n\n  return OWS;\n}(XML);\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\n\nvar ADDRESS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'DeliveryPoint': makeObjectPropertySetter(readString),\n  'City': makeObjectPropertySetter(readString),\n  'AdministrativeArea': makeObjectPropertySetter(readString),\n  'PostalCode': makeObjectPropertySetter(readString),\n  'Country': makeObjectPropertySetter(readString),\n  'ElectronicMailAddress': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar ALLOWED_VALUES_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Value': makeObjectPropertyPusher(readValue)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar CONSTRAINT_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'AllowedValues': makeObjectPropertySetter(readAllowedValues)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar CONTACT_INFO_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Phone': makeObjectPropertySetter(readPhone),\n  'Address': makeObjectPropertySetter(readAddress)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar DCP_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'HTTP': makeObjectPropertySetter(readHttp)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar HTTP_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Get': makeObjectPropertyPusher(readGet),\n  'Post': undefined // TODO\n\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar OPERATION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'DCP': makeObjectPropertySetter(readDcp)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar OPERATIONS_METADATA_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Operation': readOperation\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar PHONE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Voice': makeObjectPropertySetter(readString),\n  'Facsimile': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar REQUEST_METHOD_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Constraint': makeObjectPropertyPusher(readConstraint)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar SERVICE_CONTACT_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'IndividualName': makeObjectPropertySetter(readString),\n  'PositionName': makeObjectPropertySetter(readString),\n  'ContactInfo': makeObjectPropertySetter(readContactInfo)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar SERVICE_IDENTIFICATION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Abstract': makeObjectPropertySetter(readString),\n  'AccessConstraints': makeObjectPropertySetter(readString),\n  'Fees': makeObjectPropertySetter(readString),\n  'Title': makeObjectPropertySetter(readString),\n  'ServiceTypeVersion': makeObjectPropertySetter(readString),\n  'ServiceType': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar SERVICE_PROVIDER_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'ProviderName': makeObjectPropertySetter(readString),\n  'ProviderSite': makeObjectPropertySetter(readHref),\n  'ServiceContact': makeObjectPropertySetter(readServiceContact)\n});\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The address.\n */\n\nfunction readAddress(node, objectStack) {\n  return pushParseAndPop({}, ADDRESS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The values.\n */\n\n\nfunction readAllowedValues(node, objectStack) {\n  return pushParseAndPop({}, ALLOWED_VALUES_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The constraint.\n */\n\n\nfunction readConstraint(node, objectStack) {\n  var name = node.getAttribute('name');\n\n  if (!name) {\n    return undefined;\n  }\n\n  return pushParseAndPop({\n    'name': name\n  }, CONSTRAINT_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The contact info.\n */\n\n\nfunction readContactInfo(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_INFO_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The DCP.\n */\n\n\nfunction readDcp(node, objectStack) {\n  return pushParseAndPop({}, DCP_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The GET object.\n */\n\n\nfunction readGet(node, objectStack) {\n  var href = readHref(node);\n\n  if (!href) {\n    return undefined;\n  }\n\n  return pushParseAndPop({\n    'href': href\n  }, REQUEST_METHOD_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The HTTP object.\n */\n\n\nfunction readHttp(node, objectStack) {\n  return pushParseAndPop({}, HTTP_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The operation.\n */\n\n\nfunction readOperation(node, objectStack) {\n  var name = node.getAttribute('name');\n  var value = pushParseAndPop({}, OPERATION_PARSERS, node, objectStack);\n\n  if (!value) {\n    return undefined;\n  }\n\n  var object =\n  /** @type {Object} */\n  objectStack[objectStack.length - 1];\n  object[name] = value;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The operations metadata.\n */\n\n\nfunction readOperationsMetadata(node, objectStack) {\n  return pushParseAndPop({}, OPERATIONS_METADATA_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The phone.\n */\n\n\nfunction readPhone(node, objectStack) {\n  return pushParseAndPop({}, PHONE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The service identification.\n */\n\n\nfunction readServiceIdentification(node, objectStack) {\n  return pushParseAndPop({}, SERVICE_IDENTIFICATION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The service contact.\n */\n\n\nfunction readServiceContact(node, objectStack) {\n  return pushParseAndPop({}, SERVICE_CONTACT_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The service provider.\n */\n\n\nfunction readServiceProvider(node, objectStack) {\n  return pushParseAndPop({}, SERVICE_PROVIDER_PARSERS, node, objectStack);\n}\n/**\n * @param {Node} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {string|undefined} The value.\n */\n\n\nfunction readValue(node, objectStack) {\n  return readString(node);\n}\n\nexport default OWS;","map":{"version":3,"sources":["../src/format/OWS.js"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/format/OWS\n */\nimport { readHref } from './XLink.js';\nimport XML from './XML.js';\nimport { readString } from './xsd.js';\nimport { makeObjectPropertyPusher, makeObjectPropertySetter, makeStructureNS, pushParseAndPop } from '../xml.js';\n/**\n * @const\n * @type {Array<null|string>}\n */\nvar NAMESPACE_URIS = [null, 'http://www.opengis.net/ows/1.1'];\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'ServiceIdentification': makeObjectPropertySetter(readServiceIdentification),\n    'ServiceProvider': makeObjectPropertySetter(readServiceProvider),\n    'OperationsMetadata': makeObjectPropertySetter(readOperationsMetadata)\n});\nvar OWS = /** @class */ (function (_super) {\n    __extends(OWS, _super);\n    function OWS() {\n        return _super.call(this) || this;\n    }\n    /**\n     * @inheritDoc\n     */\n    OWS.prototype.readFromDocument = function (doc) {\n        for (var n = doc.firstChild; n; n = n.nextSibling) {\n            if (n.nodeType == Node.ELEMENT_NODE) {\n                return this.readFromNode(n);\n            }\n        }\n        return null;\n    };\n    /**\n     * @inheritDoc\n     */\n    OWS.prototype.readFromNode = function (node) {\n        var owsObject = pushParseAndPop({}, PARSERS, node, []);\n        return owsObject ? owsObject : null;\n    };\n    return OWS;\n}(XML));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar ADDRESS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'DeliveryPoint': makeObjectPropertySetter(readString),\n    'City': makeObjectPropertySetter(readString),\n    'AdministrativeArea': makeObjectPropertySetter(readString),\n    'PostalCode': makeObjectPropertySetter(readString),\n    'Country': makeObjectPropertySetter(readString),\n    'ElectronicMailAddress': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar ALLOWED_VALUES_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Value': makeObjectPropertyPusher(readValue)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar CONSTRAINT_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'AllowedValues': makeObjectPropertySetter(readAllowedValues)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar CONTACT_INFO_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Phone': makeObjectPropertySetter(readPhone),\n    'Address': makeObjectPropertySetter(readAddress)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar DCP_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'HTTP': makeObjectPropertySetter(readHttp)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar HTTP_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Get': makeObjectPropertyPusher(readGet),\n    'Post': undefined // TODO\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar OPERATION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'DCP': makeObjectPropertySetter(readDcp)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar OPERATIONS_METADATA_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Operation': readOperation\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar PHONE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Voice': makeObjectPropertySetter(readString),\n    'Facsimile': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar REQUEST_METHOD_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Constraint': makeObjectPropertyPusher(readConstraint)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar SERVICE_CONTACT_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'IndividualName': makeObjectPropertySetter(readString),\n    'PositionName': makeObjectPropertySetter(readString),\n    'ContactInfo': makeObjectPropertySetter(readContactInfo)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar SERVICE_IDENTIFICATION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Abstract': makeObjectPropertySetter(readString),\n    'AccessConstraints': makeObjectPropertySetter(readString),\n    'Fees': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'ServiceTypeVersion': makeObjectPropertySetter(readString),\n    'ServiceType': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar SERVICE_PROVIDER_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'ProviderName': makeObjectPropertySetter(readString),\n    'ProviderSite': makeObjectPropertySetter(readHref),\n    'ServiceContact': makeObjectPropertySetter(readServiceContact)\n});\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The address.\n */\nfunction readAddress(node, objectStack) {\n    return pushParseAndPop({}, ADDRESS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The values.\n */\nfunction readAllowedValues(node, objectStack) {\n    return pushParseAndPop({}, ALLOWED_VALUES_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The constraint.\n */\nfunction readConstraint(node, objectStack) {\n    var name = node.getAttribute('name');\n    if (!name) {\n        return undefined;\n    }\n    return pushParseAndPop({ 'name': name }, CONSTRAINT_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The contact info.\n */\nfunction readContactInfo(node, objectStack) {\n    return pushParseAndPop({}, CONTACT_INFO_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The DCP.\n */\nfunction readDcp(node, objectStack) {\n    return pushParseAndPop({}, DCP_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The GET object.\n */\nfunction readGet(node, objectStack) {\n    var href = readHref(node);\n    if (!href) {\n        return undefined;\n    }\n    return pushParseAndPop({ 'href': href }, REQUEST_METHOD_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The HTTP object.\n */\nfunction readHttp(node, objectStack) {\n    return pushParseAndPop({}, HTTP_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The operation.\n */\nfunction readOperation(node, objectStack) {\n    var name = node.getAttribute('name');\n    var value = pushParseAndPop({}, OPERATION_PARSERS, node, objectStack);\n    if (!value) {\n        return undefined;\n    }\n    var object = /** @type {Object} */ (objectStack[objectStack.length - 1]);\n    object[name] = value;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The operations metadata.\n */\nfunction readOperationsMetadata(node, objectStack) {\n    return pushParseAndPop({}, OPERATIONS_METADATA_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The phone.\n */\nfunction readPhone(node, objectStack) {\n    return pushParseAndPop({}, PHONE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The service identification.\n */\nfunction readServiceIdentification(node, objectStack) {\n    return pushParseAndPop({}, SERVICE_IDENTIFICATION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The service contact.\n */\nfunction readServiceContact(node, objectStack) {\n    return pushParseAndPop({}, SERVICE_CONTACT_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} The service provider.\n */\nfunction readServiceProvider(node, objectStack) {\n    return pushParseAndPop({}, SERVICE_PROVIDER_PARSERS, node, objectStack);\n}\n/**\n * @param {Node} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {string|undefined} The value.\n */\nfunction readValue(node, objectStack) {\n    return readString(node);\n}\nexport default OWS;\n//# sourceMappingURL=OWS.js.map"]},"metadata":{},"sourceType":"module"}