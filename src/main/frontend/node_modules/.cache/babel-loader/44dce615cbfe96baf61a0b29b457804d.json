{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/**\n * @module ol/format/WMSCapabilities\n */\n\n\nimport { readHref } from './XLink.js';\nimport XML from './XML.js';\nimport { readDecimalString, readString, readNonNegativeInteger, readDecimal, readBooleanString, readNonNegativeIntegerString } from './xsd.js';\nimport { makeArrayPusher, makeObjectPropertyPusher, makeObjectPropertySetter, makeStructureNS, pushParseAndPop } from '../xml.js';\n/**\n * @const\n * @type {Array<null|string>}\n */\n\nvar NAMESPACE_URIS = [null, 'http://www.opengis.net/wms'];\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Service': makeObjectPropertySetter(readService),\n  'Capability': makeObjectPropertySetter(readCapability)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar CAPABILITY_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Request': makeObjectPropertySetter(readRequest),\n  'Exception': makeObjectPropertySetter(readException),\n  'Layer': makeObjectPropertySetter(readCapabilityLayer)\n});\n/**\n * @classdesc\n * Format for reading WMS capabilities data\n *\n * @api\n */\n\nvar WMSCapabilities =\n/** @class */\nfunction (_super) {\n  __extends(WMSCapabilities, _super);\n\n  function WMSCapabilities() {\n    var _this = _super.call(this) || this;\n    /**\n     * @type {string|undefined}\n     */\n\n\n    _this.version = undefined;\n    return _this;\n  }\n  /**\n   * @inheritDoc\n   */\n\n\n  WMSCapabilities.prototype.readFromDocument = function (doc) {\n    for (var n = doc.firstChild; n; n = n.nextSibling) {\n      if (n.nodeType == Node.ELEMENT_NODE) {\n        return this.readFromNode(n);\n      }\n    }\n\n    return null;\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  WMSCapabilities.prototype.readFromNode = function (node) {\n    this.version = node.getAttribute('version').trim();\n    var wmsCapabilityObject = pushParseAndPop({\n      'version': this.version\n    }, PARSERS, node, []);\n    return wmsCapabilityObject ? wmsCapabilityObject : null;\n  };\n\n  return WMSCapabilities;\n}(XML);\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\n\nvar SERVICE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Name': makeObjectPropertySetter(readString),\n  'Title': makeObjectPropertySetter(readString),\n  'Abstract': makeObjectPropertySetter(readString),\n  'KeywordList': makeObjectPropertySetter(readKeywordList),\n  'OnlineResource': makeObjectPropertySetter(readHref),\n  'ContactInformation': makeObjectPropertySetter(readContactInformation),\n  'Fees': makeObjectPropertySetter(readString),\n  'AccessConstraints': makeObjectPropertySetter(readString),\n  'LayerLimit': makeObjectPropertySetter(readNonNegativeInteger),\n  'MaxWidth': makeObjectPropertySetter(readNonNegativeInteger),\n  'MaxHeight': makeObjectPropertySetter(readNonNegativeInteger)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar CONTACT_INFORMATION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'ContactPersonPrimary': makeObjectPropertySetter(readContactPersonPrimary),\n  'ContactPosition': makeObjectPropertySetter(readString),\n  'ContactAddress': makeObjectPropertySetter(readContactAddress),\n  'ContactVoiceTelephone': makeObjectPropertySetter(readString),\n  'ContactFacsimileTelephone': makeObjectPropertySetter(readString),\n  'ContactElectronicMailAddress': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar CONTACT_PERSON_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'ContactPerson': makeObjectPropertySetter(readString),\n  'ContactOrganization': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar CONTACT_ADDRESS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'AddressType': makeObjectPropertySetter(readString),\n  'Address': makeObjectPropertySetter(readString),\n  'City': makeObjectPropertySetter(readString),\n  'StateOrProvince': makeObjectPropertySetter(readString),\n  'PostCode': makeObjectPropertySetter(readString),\n  'Country': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar EXCEPTION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Format': makeArrayPusher(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar LAYER_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Name': makeObjectPropertySetter(readString),\n  'Title': makeObjectPropertySetter(readString),\n  'Abstract': makeObjectPropertySetter(readString),\n  'KeywordList': makeObjectPropertySetter(readKeywordList),\n  'CRS': makeObjectPropertyPusher(readString),\n  'EX_GeographicBoundingBox': makeObjectPropertySetter(readEXGeographicBoundingBox),\n  'BoundingBox': makeObjectPropertyPusher(readBoundingBox),\n  'Dimension': makeObjectPropertyPusher(readDimension),\n  'Attribution': makeObjectPropertySetter(readAttribution),\n  'AuthorityURL': makeObjectPropertyPusher(readAuthorityURL),\n  'Identifier': makeObjectPropertyPusher(readString),\n  'MetadataURL': makeObjectPropertyPusher(readMetadataURL),\n  'DataURL': makeObjectPropertyPusher(readFormatOnlineresource),\n  'FeatureListURL': makeObjectPropertyPusher(readFormatOnlineresource),\n  'Style': makeObjectPropertyPusher(readStyle),\n  'MinScaleDenominator': makeObjectPropertySetter(readDecimal),\n  'MaxScaleDenominator': makeObjectPropertySetter(readDecimal),\n  'Layer': makeObjectPropertyPusher(readLayer)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar ATTRIBUTION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Title': makeObjectPropertySetter(readString),\n  'OnlineResource': makeObjectPropertySetter(readHref),\n  'LogoURL': makeObjectPropertySetter(readSizedFormatOnlineresource)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'westBoundLongitude': makeObjectPropertySetter(readDecimal),\n  'eastBoundLongitude': makeObjectPropertySetter(readDecimal),\n  'southBoundLatitude': makeObjectPropertySetter(readDecimal),\n  'northBoundLatitude': makeObjectPropertySetter(readDecimal)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar REQUEST_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'GetCapabilities': makeObjectPropertySetter(readOperationType),\n  'GetMap': makeObjectPropertySetter(readOperationType),\n  'GetFeatureInfo': makeObjectPropertySetter(readOperationType)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar OPERATIONTYPE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Format': makeObjectPropertyPusher(readString),\n  'DCPType': makeObjectPropertyPusher(readDCPType)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar DCPTYPE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'HTTP': makeObjectPropertySetter(readHTTP)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar HTTP_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Get': makeObjectPropertySetter(readFormatOnlineresource),\n  'Post': makeObjectPropertySetter(readFormatOnlineresource)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar STYLE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Name': makeObjectPropertySetter(readString),\n  'Title': makeObjectPropertySetter(readString),\n  'Abstract': makeObjectPropertySetter(readString),\n  'LegendURL': makeObjectPropertyPusher(readSizedFormatOnlineresource),\n  'StyleSheetURL': makeObjectPropertySetter(readFormatOnlineresource),\n  'StyleURL': makeObjectPropertySetter(readFormatOnlineresource)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar FORMAT_ONLINERESOURCE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Format': makeObjectPropertySetter(readString),\n  'OnlineResource': makeObjectPropertySetter(readHref)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\n\nvar KEYWORDLIST_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n  'Keyword': makeArrayPusher(readString)\n});\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\n\nfunction readAttribution(node, objectStack) {\n  return pushParseAndPop({}, ATTRIBUTION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object} Bounding box object.\n */\n\n\nfunction readBoundingBox(node, objectStack) {\n  var extent = [readDecimalString(node.getAttribute('minx')), readDecimalString(node.getAttribute('miny')), readDecimalString(node.getAttribute('maxx')), readDecimalString(node.getAttribute('maxy'))];\n  var resolutions = [readDecimalString(node.getAttribute('resx')), readDecimalString(node.getAttribute('resy'))];\n  return {\n    'crs': node.getAttribute('CRS'),\n    'extent': extent,\n    'res': resolutions\n  };\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {import(\"../extent.js\").Extent|undefined} Bounding box object.\n */\n\n\nfunction readEXGeographicBoundingBox(node, objectStack) {\n  var geographicBoundingBox = pushParseAndPop({}, EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS, node, objectStack);\n\n  if (!geographicBoundingBox) {\n    return undefined;\n  }\n\n  var westBoundLongitude =\n  /** @type {number|undefined} */\n  geographicBoundingBox['westBoundLongitude'];\n  var southBoundLatitude =\n  /** @type {number|undefined} */\n  geographicBoundingBox['southBoundLatitude'];\n  var eastBoundLongitude =\n  /** @type {number|undefined} */\n  geographicBoundingBox['eastBoundLongitude'];\n  var northBoundLatitude =\n  /** @type {number|undefined} */\n  geographicBoundingBox['northBoundLatitude'];\n\n  if (westBoundLongitude === undefined || southBoundLatitude === undefined || eastBoundLongitude === undefined || northBoundLatitude === undefined) {\n    return undefined;\n  }\n\n  return [westBoundLongitude, southBoundLatitude, eastBoundLongitude, northBoundLatitude];\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Capability object.\n */\n\n\nfunction readCapability(node, objectStack) {\n  return pushParseAndPop({}, CAPABILITY_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Service object.\n */\n\n\nfunction readService(node, objectStack) {\n  return pushParseAndPop({}, SERVICE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Contact information object.\n */\n\n\nfunction readContactInformation(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_INFORMATION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Contact person object.\n */\n\n\nfunction readContactPersonPrimary(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_PERSON_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Contact address object.\n */\n\n\nfunction readContactAddress(node, objectStack) {\n  return pushParseAndPop({}, CONTACT_ADDRESS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Array<string>|undefined} Format array.\n */\n\n\nfunction readException(node, objectStack) {\n  return pushParseAndPop([], EXCEPTION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\n\n\nfunction readCapabilityLayer(node, objectStack) {\n  return pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\n\n\nfunction readLayer(node, objectStack) {\n  var parentLayerObject =\n  /**  @type {!Object<string,*>} */\n  objectStack[objectStack.length - 1];\n  var layerObject = pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n\n  if (!layerObject) {\n    return undefined;\n  }\n\n  var queryable = readBooleanString(node.getAttribute('queryable'));\n\n  if (queryable === undefined) {\n    queryable = parentLayerObject['queryable'];\n  }\n\n  layerObject['queryable'] = queryable !== undefined ? queryable : false;\n  var cascaded = readNonNegativeIntegerString(node.getAttribute('cascaded'));\n\n  if (cascaded === undefined) {\n    cascaded = parentLayerObject['cascaded'];\n  }\n\n  layerObject['cascaded'] = cascaded;\n  var opaque = readBooleanString(node.getAttribute('opaque'));\n\n  if (opaque === undefined) {\n    opaque = parentLayerObject['opaque'];\n  }\n\n  layerObject['opaque'] = opaque !== undefined ? opaque : false;\n  var noSubsets = readBooleanString(node.getAttribute('noSubsets'));\n\n  if (noSubsets === undefined) {\n    noSubsets = parentLayerObject['noSubsets'];\n  }\n\n  layerObject['noSubsets'] = noSubsets !== undefined ? noSubsets : false;\n  var fixedWidth = readDecimalString(node.getAttribute('fixedWidth'));\n\n  if (!fixedWidth) {\n    fixedWidth = parentLayerObject['fixedWidth'];\n  }\n\n  layerObject['fixedWidth'] = fixedWidth;\n  var fixedHeight = readDecimalString(node.getAttribute('fixedHeight'));\n\n  if (!fixedHeight) {\n    fixedHeight = parentLayerObject['fixedHeight'];\n  }\n\n  layerObject['fixedHeight'] = fixedHeight; // See 7.2.4.8\n\n  var addKeys = ['Style', 'CRS', 'AuthorityURL'];\n  addKeys.forEach(function (key) {\n    if (key in parentLayerObject) {\n      var childValue = layerObject[key] || [];\n      layerObject[key] = childValue.concat(parentLayerObject[key]);\n    }\n  });\n  var replaceKeys = ['EX_GeographicBoundingBox', 'BoundingBox', 'Dimension', 'Attribution', 'MinScaleDenominator', 'MaxScaleDenominator'];\n  replaceKeys.forEach(function (key) {\n    if (!(key in layerObject)) {\n      var parentValue = parentLayerObject[key];\n      layerObject[key] = parentValue;\n    }\n  });\n  return layerObject;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object} Dimension object.\n */\n\n\nfunction readDimension(node, objectStack) {\n  var dimensionObject = {\n    'name': node.getAttribute('name'),\n    'units': node.getAttribute('units'),\n    'unitSymbol': node.getAttribute('unitSymbol'),\n    'default': node.getAttribute('default'),\n    'multipleValues': readBooleanString(node.getAttribute('multipleValues')),\n    'nearestValue': readBooleanString(node.getAttribute('nearestValue')),\n    'current': readBooleanString(node.getAttribute('current')),\n    'values': readString(node)\n  };\n  return dimensionObject;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\n\n\nfunction readFormatOnlineresource(node, objectStack) {\n  return pushParseAndPop({}, FORMAT_ONLINERESOURCE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Request object.\n */\n\n\nfunction readRequest(node, objectStack) {\n  return pushParseAndPop({}, REQUEST_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} DCP type object.\n */\n\n\nfunction readDCPType(node, objectStack) {\n  return pushParseAndPop({}, DCPTYPE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} HTTP object.\n */\n\n\nfunction readHTTP(node, objectStack) {\n  return pushParseAndPop({}, HTTP_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Operation type object.\n */\n\n\nfunction readOperationType(node, objectStack) {\n  return pushParseAndPop({}, OPERATIONTYPE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\n\n\nfunction readSizedFormatOnlineresource(node, objectStack) {\n  var formatOnlineresource = readFormatOnlineresource(node, objectStack);\n\n  if (formatOnlineresource) {\n    var size = [readNonNegativeIntegerString(node.getAttribute('width')), readNonNegativeIntegerString(node.getAttribute('height'))];\n    formatOnlineresource['size'] = size;\n    return formatOnlineresource;\n  }\n\n  return undefined;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Authority URL object.\n */\n\n\nfunction readAuthorityURL(node, objectStack) {\n  var authorityObject = readFormatOnlineresource(node, objectStack);\n\n  if (authorityObject) {\n    authorityObject['name'] = node.getAttribute('name');\n    return authorityObject;\n  }\n\n  return undefined;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Metadata URL object.\n */\n\n\nfunction readMetadataURL(node, objectStack) {\n  var metadataObject = readFormatOnlineresource(node, objectStack);\n\n  if (metadataObject) {\n    metadataObject['type'] = node.getAttribute('type');\n    return metadataObject;\n  }\n\n  return undefined;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\n\n\nfunction readStyle(node, objectStack) {\n  return pushParseAndPop({}, STYLE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Array<string>|undefined} Keyword list.\n */\n\n\nfunction readKeywordList(node, objectStack) {\n  return pushParseAndPop([], KEYWORDLIST_PARSERS, node, objectStack);\n}\n\nexport default WMSCapabilities;","map":{"version":3,"sources":["../src/format/WMSCapabilities.js"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/format/WMSCapabilities\n */\nimport { readHref } from './XLink.js';\nimport XML from './XML.js';\nimport { readDecimalString, readString, readNonNegativeInteger, readDecimal, readBooleanString, readNonNegativeIntegerString } from './xsd.js';\nimport { makeArrayPusher, makeObjectPropertyPusher, makeObjectPropertySetter, makeStructureNS, pushParseAndPop } from '../xml.js';\n/**\n * @const\n * @type {Array<null|string>}\n */\nvar NAMESPACE_URIS = [\n    null,\n    'http://www.opengis.net/wms'\n];\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Service': makeObjectPropertySetter(readService),\n    'Capability': makeObjectPropertySetter(readCapability)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar CAPABILITY_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Request': makeObjectPropertySetter(readRequest),\n    'Exception': makeObjectPropertySetter(readException),\n    'Layer': makeObjectPropertySetter(readCapabilityLayer)\n});\n/**\n * @classdesc\n * Format for reading WMS capabilities data\n *\n * @api\n */\nvar WMSCapabilities = /** @class */ (function (_super) {\n    __extends(WMSCapabilities, _super);\n    function WMSCapabilities() {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {string|undefined}\n         */\n        _this.version = undefined;\n        return _this;\n    }\n    /**\n     * @inheritDoc\n     */\n    WMSCapabilities.prototype.readFromDocument = function (doc) {\n        for (var n = doc.firstChild; n; n = n.nextSibling) {\n            if (n.nodeType == Node.ELEMENT_NODE) {\n                return this.readFromNode(n);\n            }\n        }\n        return null;\n    };\n    /**\n     * @inheritDoc\n     */\n    WMSCapabilities.prototype.readFromNode = function (node) {\n        this.version = node.getAttribute('version').trim();\n        var wmsCapabilityObject = pushParseAndPop({\n            'version': this.version\n        }, PARSERS, node, []);\n        return wmsCapabilityObject ? wmsCapabilityObject : null;\n    };\n    return WMSCapabilities;\n}(XML));\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar SERVICE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'KeywordList': makeObjectPropertySetter(readKeywordList),\n    'OnlineResource': makeObjectPropertySetter(readHref),\n    'ContactInformation': makeObjectPropertySetter(readContactInformation),\n    'Fees': makeObjectPropertySetter(readString),\n    'AccessConstraints': makeObjectPropertySetter(readString),\n    'LayerLimit': makeObjectPropertySetter(readNonNegativeInteger),\n    'MaxWidth': makeObjectPropertySetter(readNonNegativeInteger),\n    'MaxHeight': makeObjectPropertySetter(readNonNegativeInteger)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar CONTACT_INFORMATION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'ContactPersonPrimary': makeObjectPropertySetter(readContactPersonPrimary),\n    'ContactPosition': makeObjectPropertySetter(readString),\n    'ContactAddress': makeObjectPropertySetter(readContactAddress),\n    'ContactVoiceTelephone': makeObjectPropertySetter(readString),\n    'ContactFacsimileTelephone': makeObjectPropertySetter(readString),\n    'ContactElectronicMailAddress': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar CONTACT_PERSON_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'ContactPerson': makeObjectPropertySetter(readString),\n    'ContactOrganization': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar CONTACT_ADDRESS_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'AddressType': makeObjectPropertySetter(readString),\n    'Address': makeObjectPropertySetter(readString),\n    'City': makeObjectPropertySetter(readString),\n    'StateOrProvince': makeObjectPropertySetter(readString),\n    'PostCode': makeObjectPropertySetter(readString),\n    'Country': makeObjectPropertySetter(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar EXCEPTION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Format': makeArrayPusher(readString)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar LAYER_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'KeywordList': makeObjectPropertySetter(readKeywordList),\n    'CRS': makeObjectPropertyPusher(readString),\n    'EX_GeographicBoundingBox': makeObjectPropertySetter(readEXGeographicBoundingBox),\n    'BoundingBox': makeObjectPropertyPusher(readBoundingBox),\n    'Dimension': makeObjectPropertyPusher(readDimension),\n    'Attribution': makeObjectPropertySetter(readAttribution),\n    'AuthorityURL': makeObjectPropertyPusher(readAuthorityURL),\n    'Identifier': makeObjectPropertyPusher(readString),\n    'MetadataURL': makeObjectPropertyPusher(readMetadataURL),\n    'DataURL': makeObjectPropertyPusher(readFormatOnlineresource),\n    'FeatureListURL': makeObjectPropertyPusher(readFormatOnlineresource),\n    'Style': makeObjectPropertyPusher(readStyle),\n    'MinScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'MaxScaleDenominator': makeObjectPropertySetter(readDecimal),\n    'Layer': makeObjectPropertyPusher(readLayer)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar ATTRIBUTION_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Title': makeObjectPropertySetter(readString),\n    'OnlineResource': makeObjectPropertySetter(readHref),\n    'LogoURL': makeObjectPropertySetter(readSizedFormatOnlineresource)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'westBoundLongitude': makeObjectPropertySetter(readDecimal),\n    'eastBoundLongitude': makeObjectPropertySetter(readDecimal),\n    'southBoundLatitude': makeObjectPropertySetter(readDecimal),\n    'northBoundLatitude': makeObjectPropertySetter(readDecimal)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar REQUEST_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'GetCapabilities': makeObjectPropertySetter(readOperationType),\n    'GetMap': makeObjectPropertySetter(readOperationType),\n    'GetFeatureInfo': makeObjectPropertySetter(readOperationType)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar OPERATIONTYPE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Format': makeObjectPropertyPusher(readString),\n    'DCPType': makeObjectPropertyPusher(readDCPType)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar DCPTYPE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'HTTP': makeObjectPropertySetter(readHTTP)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar HTTP_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Get': makeObjectPropertySetter(readFormatOnlineresource),\n    'Post': makeObjectPropertySetter(readFormatOnlineresource)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar STYLE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Name': makeObjectPropertySetter(readString),\n    'Title': makeObjectPropertySetter(readString),\n    'Abstract': makeObjectPropertySetter(readString),\n    'LegendURL': makeObjectPropertyPusher(readSizedFormatOnlineresource),\n    'StyleSheetURL': makeObjectPropertySetter(readFormatOnlineresource),\n    'StyleURL': makeObjectPropertySetter(readFormatOnlineresource)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar FORMAT_ONLINERESOURCE_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Format': makeObjectPropertySetter(readString),\n    'OnlineResource': makeObjectPropertySetter(readHref)\n});\n/**\n * @const\n * @type {Object<string, Object<string, import(\"../xml.js\").Parser>>}\n */\n// @ts-ignore\nvar KEYWORDLIST_PARSERS = makeStructureNS(NAMESPACE_URIS, {\n    'Keyword': makeArrayPusher(readString)\n});\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Attribution object.\n */\nfunction readAttribution(node, objectStack) {\n    return pushParseAndPop({}, ATTRIBUTION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object} Bounding box object.\n */\nfunction readBoundingBox(node, objectStack) {\n    var extent = [\n        readDecimalString(node.getAttribute('minx')),\n        readDecimalString(node.getAttribute('miny')),\n        readDecimalString(node.getAttribute('maxx')),\n        readDecimalString(node.getAttribute('maxy'))\n    ];\n    var resolutions = [\n        readDecimalString(node.getAttribute('resx')),\n        readDecimalString(node.getAttribute('resy'))\n    ];\n    return {\n        'crs': node.getAttribute('CRS'),\n        'extent': extent,\n        'res': resolutions\n    };\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {import(\"../extent.js\").Extent|undefined} Bounding box object.\n */\nfunction readEXGeographicBoundingBox(node, objectStack) {\n    var geographicBoundingBox = pushParseAndPop({}, EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS, node, objectStack);\n    if (!geographicBoundingBox) {\n        return undefined;\n    }\n    var westBoundLongitude = /** @type {number|undefined} */ (geographicBoundingBox['westBoundLongitude']);\n    var southBoundLatitude = /** @type {number|undefined} */ (geographicBoundingBox['southBoundLatitude']);\n    var eastBoundLongitude = /** @type {number|undefined} */ (geographicBoundingBox['eastBoundLongitude']);\n    var northBoundLatitude = /** @type {number|undefined} */ (geographicBoundingBox['northBoundLatitude']);\n    if (westBoundLongitude === undefined || southBoundLatitude === undefined ||\n        eastBoundLongitude === undefined || northBoundLatitude === undefined) {\n        return undefined;\n    }\n    return [\n        westBoundLongitude, southBoundLatitude,\n        eastBoundLongitude, northBoundLatitude\n    ];\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Capability object.\n */\nfunction readCapability(node, objectStack) {\n    return pushParseAndPop({}, CAPABILITY_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Service object.\n */\nfunction readService(node, objectStack) {\n    return pushParseAndPop({}, SERVICE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Contact information object.\n */\nfunction readContactInformation(node, objectStack) {\n    return pushParseAndPop({}, CONTACT_INFORMATION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Contact person object.\n */\nfunction readContactPersonPrimary(node, objectStack) {\n    return pushParseAndPop({}, CONTACT_PERSON_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Contact address object.\n */\nfunction readContactAddress(node, objectStack) {\n    return pushParseAndPop({}, CONTACT_ADDRESS_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Array<string>|undefined} Format array.\n */\nfunction readException(node, objectStack) {\n    return pushParseAndPop([], EXCEPTION_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\nfunction readCapabilityLayer(node, objectStack) {\n    return pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Layer object.\n */\nfunction readLayer(node, objectStack) {\n    var parentLayerObject = /**  @type {!Object<string,*>} */ (objectStack[objectStack.length - 1]);\n    var layerObject = pushParseAndPop({}, LAYER_PARSERS, node, objectStack);\n    if (!layerObject) {\n        return undefined;\n    }\n    var queryable = readBooleanString(node.getAttribute('queryable'));\n    if (queryable === undefined) {\n        queryable = parentLayerObject['queryable'];\n    }\n    layerObject['queryable'] = queryable !== undefined ? queryable : false;\n    var cascaded = readNonNegativeIntegerString(node.getAttribute('cascaded'));\n    if (cascaded === undefined) {\n        cascaded = parentLayerObject['cascaded'];\n    }\n    layerObject['cascaded'] = cascaded;\n    var opaque = readBooleanString(node.getAttribute('opaque'));\n    if (opaque === undefined) {\n        opaque = parentLayerObject['opaque'];\n    }\n    layerObject['opaque'] = opaque !== undefined ? opaque : false;\n    var noSubsets = readBooleanString(node.getAttribute('noSubsets'));\n    if (noSubsets === undefined) {\n        noSubsets = parentLayerObject['noSubsets'];\n    }\n    layerObject['noSubsets'] = noSubsets !== undefined ? noSubsets : false;\n    var fixedWidth = readDecimalString(node.getAttribute('fixedWidth'));\n    if (!fixedWidth) {\n        fixedWidth = parentLayerObject['fixedWidth'];\n    }\n    layerObject['fixedWidth'] = fixedWidth;\n    var fixedHeight = readDecimalString(node.getAttribute('fixedHeight'));\n    if (!fixedHeight) {\n        fixedHeight = parentLayerObject['fixedHeight'];\n    }\n    layerObject['fixedHeight'] = fixedHeight;\n    // See 7.2.4.8\n    var addKeys = ['Style', 'CRS', 'AuthorityURL'];\n    addKeys.forEach(function (key) {\n        if (key in parentLayerObject) {\n            var childValue = layerObject[key] || [];\n            layerObject[key] = childValue.concat(parentLayerObject[key]);\n        }\n    });\n    var replaceKeys = ['EX_GeographicBoundingBox', 'BoundingBox', 'Dimension',\n        'Attribution', 'MinScaleDenominator', 'MaxScaleDenominator'];\n    replaceKeys.forEach(function (key) {\n        if (!(key in layerObject)) {\n            var parentValue = parentLayerObject[key];\n            layerObject[key] = parentValue;\n        }\n    });\n    return layerObject;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object} Dimension object.\n */\nfunction readDimension(node, objectStack) {\n    var dimensionObject = {\n        'name': node.getAttribute('name'),\n        'units': node.getAttribute('units'),\n        'unitSymbol': node.getAttribute('unitSymbol'),\n        'default': node.getAttribute('default'),\n        'multipleValues': readBooleanString(node.getAttribute('multipleValues')),\n        'nearestValue': readBooleanString(node.getAttribute('nearestValue')),\n        'current': readBooleanString(node.getAttribute('current')),\n        'values': readString(node)\n    };\n    return dimensionObject;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nfunction readFormatOnlineresource(node, objectStack) {\n    return pushParseAndPop({}, FORMAT_ONLINERESOURCE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Request object.\n */\nfunction readRequest(node, objectStack) {\n    return pushParseAndPop({}, REQUEST_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} DCP type object.\n */\nfunction readDCPType(node, objectStack) {\n    return pushParseAndPop({}, DCPTYPE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} HTTP object.\n */\nfunction readHTTP(node, objectStack) {\n    return pushParseAndPop({}, HTTP_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Operation type object.\n */\nfunction readOperationType(node, objectStack) {\n    return pushParseAndPop({}, OPERATIONTYPE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Online resource object.\n */\nfunction readSizedFormatOnlineresource(node, objectStack) {\n    var formatOnlineresource = readFormatOnlineresource(node, objectStack);\n    if (formatOnlineresource) {\n        var size = [\n            readNonNegativeIntegerString(node.getAttribute('width')),\n            readNonNegativeIntegerString(node.getAttribute('height'))\n        ];\n        formatOnlineresource['size'] = size;\n        return formatOnlineresource;\n    }\n    return undefined;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Authority URL object.\n */\nfunction readAuthorityURL(node, objectStack) {\n    var authorityObject = readFormatOnlineresource(node, objectStack);\n    if (authorityObject) {\n        authorityObject['name'] = node.getAttribute('name');\n        return authorityObject;\n    }\n    return undefined;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Metadata URL object.\n */\nfunction readMetadataURL(node, objectStack) {\n    var metadataObject = readFormatOnlineresource(node, objectStack);\n    if (metadataObject) {\n        metadataObject['type'] = node.getAttribute('type');\n        return metadataObject;\n    }\n    return undefined;\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Object|undefined} Style object.\n */\nfunction readStyle(node, objectStack) {\n    return pushParseAndPop({}, STYLE_PARSERS, node, objectStack);\n}\n/**\n * @param {Element} node Node.\n * @param {Array<*>} objectStack Object stack.\n * @return {Array<string>|undefined} Keyword list.\n */\nfunction readKeywordList(node, objectStack) {\n    return pushParseAndPop([], KEYWORDLIST_PARSERS, node, objectStack);\n}\nexport default WMSCapabilities;\n//# sourceMappingURL=WMSCapabilities.js.map"]},"metadata":{},"sourceType":"module"}